<div class="content-wrapper">
    <section id="post" class="content">
        <div class="row">
            <div class="col-md-7">
                <div class="box box-primary">
                    <div class="box-header with-border">
                      <h3 class="box-title">Add New Post</h3>
                    </div>
                    <form [formGroup]="myform" (ngSubmit)="AddPost(myform.value)" novalidate>
                        <div *ngIf="apiError.err" class="alert alert-danger">
                          <strong>Error: </strong> {{apiError.message}}
                        </div>
                        <div class="box-body">
                            <div class="form-group">
                                <label>Media Type</label>
                                <select class="form-control" formControlName="media_type" (change)="MediaTypeChange($event)">
                                    <option *ngFor="let type of mediaTypes" [ngValue]="type">{{type.name}}</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <input *ngIf="selectedValue.id === 1" type="file" id="file" accept="image/*" (change)="handleFileInput($event.target.files)">
                                <input *ngIf="selectedValue.id === 2" type="file" id="file" accept="video/*" (change)="handleFileInput($event.target.files)">
                                <input *ngIf="selectedValue.id === 3" type="file" id="file" accept="audio/*" (change)="handleFileInput($event.target.files)">
                            </div>
                            <div class="form-group">
                                <input type="radio" formControlName="offender_social_info" value="phone" required> Phone
                                <input type="radio" formControlName="offender_social_info" value="insta" required> Instagram Id
                                <input type="radio" formControlName="offender_social_info" value="fb" required> Facebook Id
                                <input type="radio" formControlName="offender_social_info" value="twitter" required> Twitter Id
                                <input type="radio" formControlName="offender_social_info" value="email" required> Email Id
                                <p *ngIf="myform.controls.offender_social_info.touched && myform.controls.offender_social_info.hasError('required')" class="errMsg">Social info is <strong>required</strong></p>
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Offender Information" formControlName="offender_user_info" required>
                                <p *ngIf="myform.controls.offender_user_info.touched && myform.controls.offender_user_info.hasError('required')" class="errMsg">Offender is <strong>required</strong></p>
                                <p *ngIf="myform.controls.offender_user_info.hasError('offender_user_infoNotEmpty')" class="errMsg">Offender is <strong>required</strong></p>
                                <p *ngIf="myform.controls.offender_user_info.hasError('minlength') || myform.controls.offender_user_info.hasError('maxlength')" class="errMsg">Offender must be in 1 to 50 characters</p>
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Title" formControlName="title" required>
                                <p *ngIf="myform.controls.title.touched && myform.controls.title.hasError('required')" class="errMsg">Title is <strong>required</strong></p>
                                <p *ngIf="myform.controls.title.hasError('titleNotEmpty')" class="errMsg">Title is <strong>required</strong></p>
                                <p *ngIf="myform.controls.title.hasError('minlength') || myform.controls.title.hasError('maxlength')" class="errMsg">Title must be in 6 to 20 characters</p>
                            </div>
                            <div class="form-group">
                                <textarea type="text" class="form-control" placeholder="Description" formControlName="description" required></textarea>
                                <p *ngIf="myform.controls.description.touched && myform.controls.description.hasError('required')" class="errMsg">description is <strong>required</strong></p>
                                <p *ngIf="myform.controls.description.hasError('descriptionArNotEmpty')" class="errMsg">description is <strong>required</strong></p>
                                <p *ngIf="myform.controls.description.hasError('minlength') || myform.controls.description.hasError('maxlength')" class="errMsg">Description must be in 6 to 250 characters</p>
                            </div>
                        </div>
                        <div class="box-footer">
                            <button type="submit" class="btn btn-primary" [disabled]="!myform.valid">Add Post</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>
</div>
